<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Fieldmanager QUnit Test Suite</title>

	<!-- QUnit -->
	<link rel="stylesheet" href="vendor/qunit-1.21.0.css">
	<script src="vendor/qunit-1.21.0.js"></script>

	<script>
		var scripts = [];
		var svn = 'http://develop.svn.wordpress.org/trunk';

		/*
		Test against trunk by default; include '?wp=X.Y' in the URL to test
		against the scripts in WordPress X.Y.
		 */
		var versionMatch = /wp=(\d\.\d)/.exec( window.location.href );
		if ( versionMatch && versionMatch[1] ) {
			svn = 'http://develop.svn.wordpress.org/tags/' + versionMatch[1];
		}

		scripts = [
			svn + '/src/wp-includes/js/jquery/jquery.js',
			svn + '/src/wp-includes/js/jquery/ui/core.js',
			svn + '/src/wp-includes/js/jquery/ui/widget.js',
			svn + '/src/wp-includes/js/jquery/ui/mouse.js',
			svn + '/src/wp-includes/js/jquery/ui/sortable.js',
			svn + '/src/wp-includes/js/jquery/ui/draggable.js',
			svn + '/src/wp-includes/js/jquery/ui/droppable.js',
		];

		// Fieldmanager.
		scripts.push( '../../js/fieldmanager.js' );

		// Tests.
		scripts.push( 'test-fieldmanager.js' );

		scripts.forEach(function( src ) {
			var script = document.createElement( 'script' );
			script.src = src;
			script.async = false;

			var node = document.getElementsByTagName( 'script' )[0];
			node.parentNode.insertBefore( script, null );
		});
	</script>
</head>
<body>
	<div id="qunit"></div>

	<div id="qunit-fixture">
		<ul id="sortable" class="fmjs-sortable">
			<li class="fm-item"><span class="fmjs-drag"></span>First</li>
			<li class="fm-item"><span class="fmjs-drag"></span>Second</li>
			<li class="fm-item"><span class="fmjs-drag"></span>Third</li>
		</ul><!-- #sortable -->

		<ul id="already-sorted" class="fmjs-sortable">
			<li class="fm-item"><span class="fmjs-drag"></span>First</li>
			<li class="fm-item"><span class="fmjs-drag"></span>Second</li>
			<li class="fm-item"><span class="fmjs-drag"></span>Third</li>
		</ul><!-- #already-sorted -->

		<ul id="not-sortable" class="fmjs-sortable" style="display: none;">
			<li class="fm-item"><span class="fmjs-drag"></span>First</li>
			<li class="fm-item"><span class="fmjs-drag"></span>Second</li>
			<li class="fm-item"><span class="fmjs-drag"></span>Third</li>
		</ul><!-- #not-sortable -->


		<div id="display-if-compare" class="fm-wrapper fm-display_if_test-wrapper" data-fm-array-position="0" >
			<div class="fm-item fm-display_if_test">
				<div class="fm-wrapper fm-primary-wrapper" data-fm-array-position="0" >
					<div class="fm-item fm-primary fm-select">
						<div class="fm-label fm-label-primary">
							<label for="fm-display_if_test-0-primary-0">Primary Field</label>
						</div>
						<select class="fm-element" name="display_if_test[primary]" id="fm-display_if_test-0-primary-0" size="1">
							<option value="">&nbsp;</option>
							<option value="foo" >Foo</option>
							<option value="bar" >Bar</option>
							<option value="zap" >Zap</option>
						</select>
					</div>
				</div>
				<div class="fm-wrapper fm-single-test-equals-wrapper display-if" data-fm-array-position="0" data-display-src="primary" data-display-value="foo" data-display-compare="equals" >
					<div class="fm-item fm-single-test-equals fm-text">
						<div class="fm-label fm-label-single-test-equals">
							<label for="fm-display_if_test-0-single-test-equals-0">Test Equals foo</label>
						</div>
						<input
						class="fm-element"
						type="text"
						name="display_if_test[single-test-equals]"
						id="fm-display_if_test-0-single-test-equals-0"
						value=""
						size="50"/>
					</div>
				</div>
				<div class="fm-wrapper fm-single-test-not-equals-wrapper display-if" data-fm-array-position="0" data-display-src="primary" data-display-value="foo" data-display-compare="not-equals" >
					<div class="fm-item fm-single-test-not-equals fm-text">
						<div class="fm-label fm-label-single-test-not-equals">
							<label for="fm-display_if_test-0-single-test-not-equals-0">Test Not Equals foo</label>
						</div>
						<input
						class="fm-element"
						type="text"
						name="display_if_test[single-test-not-equals]"
						id="fm-display_if_test-0-single-test-not-equals-0"
						value=""
						size="50"/>
					</div>
				</div>
				<div class="fm-wrapper fm-single-test-contains-wrapper display-if" data-fm-array-position="0" data-display-src="primary" data-display-value="fo" data-display-compare="contains" >
					<div class="fm-item fm-single-test-contains fm-text">
						<div class="fm-label fm-label-single-test-contains">
							<label for="fm-display_if_test-0-single-test-contains-0">Test Contains fo</label>
						</div>
						<input
						class="fm-element"
						type="text"
						name="display_if_test[single-test-contains]"
						id="fm-display_if_test-0-single-test-contains-0"
						value=""
						size="50"/>
					</div>
				</div>
			</div>
		</div>
		<!-- /#display-if-compare -->

		<div id="display-if-numeric" class="fm-wrapper fm-display_if_numeric-wrapper" data-fm-array-position="0" >
			<div class="fm-item fm-display_if_numeric">
				<div class="fm-wrapper fm-primary-numeric-wrapper" data-fm-array-position="0" >
					<div class="fm-item fm-primary-numeric fm-text">
						<div class="fm-label fm-label-primary-numeric"><label for="fm-display_if_numeric-0-primary-numeric-0">Primary Field</label></div>
						<input
							class="fm-element"
							type="text"
							name="display_if_numeric[primary-numeric]"
							id="fm-display_if_numeric-0-primary-numeric-0"
							value="12"
							size="50"/>
					</div>
				</div>
				<div class="fm-wrapper fm-numeric-test-equals-wrapper display-if" data-fm-array-position="0" data-display-src="primary-numeric" data-display-value="12" data-display-compare="equals" >
					<div class="fm-item fm-numeric-test-equals fm-text">
						<div class="fm-label fm-label-numeric-test-equals"><label for="fm-display_if_numeric-0-numeric-test-equals-0">Test Equals 12</label></div>
						<input
							class="fm-element"
							type="text"
							name="display_if_numeric[numeric-test-equals]"
							id="fm-display_if_numeric-0-numeric-test-equals-0"
							value=""
							size="50"/>
					</div>
				</div>
				<div class="fm-wrapper fm-numeric-test-not-equals-wrapper display-if" data-fm-array-position="0" data-display-src="primary-numeric" data-display-value="12" data-display-compare="not-equals" >
					<div class="fm-item fm-numeric-test-not-equals fm-text">
						<div class="fm-label fm-label-numeric-test-not-equals"><label for="fm-display_if_numeric-0-numeric-test-not-equals-0">Test Not Equals 12</label></div>
						<input
							class="fm-element"
							type="text"
							name="display_if_numeric[numeric-test-not-equals]"
							id="fm-display_if_numeric-0-numeric-test-not-equals-0"
							value=""
							size="50"/>
					</div>
				</div>
			</div>
		</div>
		<!-- /#display-if-numeric -->

		<div id="display-if-csv" class="fm-wrapper fm-display_if_csv-wrapper" data-fm-array-position="0" >
			<div class="fm-item fm-display_if_csv">
				<div class="fm-wrapper fm-primary-csv-wrapper" data-fm-array-position="0" >
					<div class="fm-item fm-primary-csv fm-text">
						<div class="fm-label fm-label-primary-csv"><label for="fm-display_if_csv-0-primary-csv-0">Primary Field</label></div>
						<input
							class="fm-element"
							type="text"
							name="display_if_csv[primary-csv]"
							id="fm-display_if_csv-0-primary-csv-0"
							value="bar"
							size="50"/>
					</div>
				</div>
				<div class="fm-wrapper fm-csv-strings-wrapper display-if" data-fm-array-position="0" data-display-src="primary-csv" data-display-value="foo,bar,zap" data-display-compare="equals" >
					<div class="fm-item fm-csv-strings fm-text">
						<div class="fm-label fm-label-csv-strings"><label for="fm-display_if_csv-0-csv-strings-0">Test Strings</label></div>
						<input
							class="fm-element"
							type="text"
							name="display_if_csv[csv-strings]"
							id="fm-display_if_csv-0-csv-strings-0"
							value=""
							size="50"/>
					</div>
				</div>
				<div class="fm-wrapper fm-csv-numbers-wrapper display-if" data-fm-array-position="0" data-display-src="primary-csv" data-display-value="11,12,13" data-display-compare="equals" >
					<div class="fm-item fm-csv-numbers fm-text">
						<div class="fm-label fm-label-csv-numbers"><label for="fm-display_if_csv-0-csv-numbers-0">Test Numbers</label></div>
						<input
							class="fm-element"
							type="text"
							name="display_if_csv[csv-numbers]"
							id="fm-display_if_csv-0-csv-numbers-0"
							value=""
							size="50"/>
					</div>
				</div>
				<div class="fm-wrapper fm-csv-not-equals-wrapper display-if" data-fm-array-position="0" data-display-src="primary-csv" data-display-value="bar,zap" data-display-compare="not-equals" >
					<div class="fm-item fm-csv-not-equals fm-text">
						<div class="fm-label fm-label-csv-not-equals"><label for="fm-display_if_csv-0-csv-not-equals-0">Test Not Equals</label></div>
						<input
							class="fm-element"
							type="text"
							name="display_if_csv[csv-not-equals]"
							id="fm-display_if_csv-0-csv-not-equals-0"
							value=""
							size="50"/>
					</div>
				</div>
				<div class="fm-wrapper fm-csv-contains-wrapper display-if" data-fm-array-position="0" data-display-src="primary-csv" data-display-value="fo,za" data-display-compare="contains" >
					<div class="fm-item fm-csv-contains fm-text">
						<div class="fm-label fm-label-csv-contains"><label for="fm-display_if_csv-0-csv-contains-0">Test Contains</label></div>
						<input
							class="fm-element"
							type="text"
							name="display_if_csv[csv-contains]"
							id="fm-display_if_csv-0-csv-contains-0"
							value=""
							size="50"/>
					</div>
				</div>
			</div>
		</div>
		<!-- /#display-if-csv -->

		<div id="display-if-repeatable" class="fm-wrapper fm-display_if_repeatable-wrapper" data-fm-array-position="0" >
			<div class="fm-item fm-display_if_repeatable">
				<div class="fm-wrapper fm-primary-repeatable-wrapper" data-fm-array-position="0" >
					<div class="fm-item fm-primary-repeatable fm-text">
						<div class="fm-label fm-label-primary-repeatable"><label for="fm-display_if_repeatable-0-primary-repeatable-0">Primary Field</label></div>
						<input
							class="fm-element"
							type="text"
							name="display_if_repeatable[primary-repeatable]"
							id="fm-display_if_repeatable-0-primary-repeatable-0"
							value="bar"
							size="50"/>
					</div>
				</div>
				<div class="fm-wrapper fm-test-repeatable-wrapper display-if" data-fm-array-position="2" data-display-src="primary-repeatable" data-display-value="foo" data-display-compare="equals" >
					<div class="fm-item fm-test-repeatable fm-text fmjs-proto">
						<div class="fmjs-removable-label fmjs-removable">
							<div class="fmjs-removable-element">
								<div class="fm-label fm-label-test-repeatable"><label for="fm-display_if_repeatable-0-test-repeatable-proto">Test Repeatable</label></div>
							</div>
							<a href="#" class="fmjs-remove" title="Remove">Remove</a>
						</div>
						<input
							class="fm-element"
							type="text"
							name="display_if_repeatable[test-repeatable][proto]"
							id="fm-display_if_repeatable-0-test-repeatable-proto"
							value=""
							size="50"/>
					</div>
					<div class="fm-item fm-test-repeatable fm-text">
						<div class="fmjs-removable-label fmjs-removable">
							<div class="fmjs-removable-element">
								<div class="fm-label fm-label-test-repeatable"><label for="fm-display_if_repeatable-0-test-repeatable-0">Test Repeatable</label></div>
							</div>
							<a href="#" class="fmjs-remove" title="Remove">Remove</a>
						</div>
						<input
							class="fm-element"
							type="text"
							name="display_if_repeatable[test-repeatable][0]"
							id="fm-display_if_repeatable-0-test-repeatable-0"
							value=""
							size="50"/>
					</div>
					<div class="fm-add-another-wrapper"><input type="button" class="fm-add-another fm-test-repeatable-add-another button-secondary" value="Add field" name="fm_add_another_test-repeatable" data-related-element="test-repeatable" data-add-more-position="bottom" data-limit="0" /></div>
				</div>
			</div>
		</div>
		<!-- /#display-if-repeatable -->

		<div id="display-if-multi-events" class="fm-wrapper fm-display_if_multi_events-wrapper" data-fm-array-position="0" >
			<div class="fm-item fm-display_if_multi_events">
				<div class="fm-wrapper fm-multi-repeatable-wrapper display-conditional-callback" data-fm-array-position="2" data-display-event="my-custom-event" >
					<div class="fm-item fm-multi-repeatable fm-text fmjs-proto">
						<div class="fmjs-removable-label fmjs-removable">
							<div class="fmjs-removable-element">
								<div class="fm-label fm-label-multi-repeatable"><label for="fm-display_if_multi_events-0-multi-repeatable-proto">Test Repeatable</label></div>
							</div>
							<a href="#" class="fmjs-remove" title="Remove">Remove</a>
						</div>
						<input
							class="fm-element"
							type="text"
							name="display_if_multi_events[multi-repeatable][proto]"
							id="fm-display_if_multi_events-0-multi-repeatable-proto"
							value=""
							size="50"/>
					</div>
					<div class="fm-item fm-multi-repeatable fm-text">
						<div class="fmjs-removable-label fmjs-removable">
							<div class="fmjs-removable-element">
								<div class="fm-label fm-label-multi-repeatable"><label for="fm-display_if_multi_events-0-multi-repeatable-0">Test Repeatable</label></div>
							</div>
							<a href="#" class="fmjs-remove" title="Remove">Remove</a>
						</div>
						<input
							class="fm-element"
							type="text"
							name="display_if_multi_events[multi-repeatable][0]"
							id="fm-display_if_multi_events-0-multi-repeatable-0"
							value=""
							size="50"/>
					</div>
					<div class="fm-add-another-wrapper"><input type="button" class="fm-add-another fm-multi-repeatable-add-another button-secondary" value="Add field" name="fm_add_another_multi-repeatable" data-related-element="multi-repeatable" data-add-more-position="bottom" data-limit="0" /></div>
				</div>
				<div class="fm-wrapper fm-multi-single-wrapper display-conditional-callback" data-fm-array-position="0" data-display-event="my-custom-event" >
					<div class="fm-item fm-multi-single fm-text">
						<div class="fm-label fm-label-multi-single"><label for="fm-display_if_multi_events-0-multi-single-0">Test Single</label></div>
						<input
							class="fm-element"
							type="text"
							name="display_if_multi_events[multi-single]"
							id="fm-display_if_multi_events-0-multi-single-0"
							value=""
							size="50"/>
					</div>
				</div>
				<div class="fm-wrapper fm-multi-other-wrapper display-conditional-callback" data-fm-array-position="0" data-display-event="my-other-event" >
					<div class="fm-item fm-multi-other fm-text">
						<div class="fm-label fm-label-multi-other"><label for="fm-display_if_multi_events-0-multi-other-0">Test Other</label></div>
						<input
							class="fm-element"
							type="text"
							name="display_if_multi_events[multi-other]"
							id="fm-display_if_multi_events-0-multi-other-0"
							value=""
							size="50"/>
					</div>
				</div>
			</div>
		</div>
		<!-- /#display-if-multi-events -->

		<div id="renumbered" class="fm-wrapper" data-fm-array-position="1">
			<div class="fm-item">
				<div class="fm-element" name="mytest[0]">First</div>
			</div>
			<div class="fm-item">
				<div class="fm-element" name="mytest[1]">Second</div>
			</div>
			<div class="fm-item">
				<div class="fm-element" name="mytest[2]">Third</div>
			</div>
			<span class="test-renumber fmjs-collapsible-handle"></span>
		</div><!-- #renumbered -->

		<div id="renumbered-group" class="fm-wrapper" data-fm-array-position="1">
			<div class="fm-item">First
				<div id="renumbered-subgroup" class="fm-wrapper" data-fm-array-position="3">
					<div class="fm-item">
						<div class="fm-element" name="mytest[0][mysubtest][0]">Alpha</div>
					</div>
					<div class="fm-item">
						<div class="fm-element" name="mytest[0][mysubtest][1]">Bravo</div>
					</div>
					<div class="fm-item">
						<div class="fm-element" name="mytest[0][mysubtest][2]">Charlie</div>
					</div>
				</div>
			</div>
			<div class="fm-item">Second
				<div class="fm-wrapper" data-fm-array-position="3">
					<div class="fm-item">
						<div class="fm-element" name="mytest[1][mysubtest][0]">Delta</div>
					</div>
				</div>
			</div>
			<div class="fm-item">Third
				<div class="fm-wrapper" data-fm-array-position="3">
					<div class="fm-item">
						<div class="fm-element" name="mytest[2][mysubtest][0]">Epsilon</div>
					</div>
				</div>
			</div>
			<span class="test-renumber fmjs-collapsible-handle"></span>
		</div><!-- #renumbered-group -->
	</div><!-- #qunit-fixture -->

</body>
</html>
